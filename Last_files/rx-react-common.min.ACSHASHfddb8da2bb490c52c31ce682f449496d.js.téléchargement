(function(){var apigeeClientSessionName='ClientId',apigeeClientId=document.querySelector('[data-apigee-clientid]');if(apigeeClientId){document.cookie=`${apigeeClientSessionName}=${apigeeClientId.dataset.apigeeClientid}; path=/; SameSite=Lax; Secure`;}
var reactSettings=window.reactSettings,reactSettingsRecommendationList=window.reactSettingsRecommendationList,reactSettingsProductDetails=window.reactSettingsProductDetails,reactSettingsArtistDetails=window.reactSettingsArtistDetails,reactSettingsZoomplayer=window.reactSettingsZoomplayer,exhibitingOrganisationId=/\.(org-[\w-]+)\./.test(window.location.href)?RegExp.$1:null,exhibitingId=/\.(exh-[\w-]+)\./.test(window.location.href)?RegExp.$1:null,productId=/\.(pro-[\w-]+)\./.test(window.location.href)?RegExp.$1:null,artistId=/\.(pdr-[\w-]+)\./.test(window.location.href)?RegExp.$1:null,participationId=/\.(ptn-[\w-]+)\./.test(window.location.href)?RegExp.$1:null,eventEditionIdSelector=/\.(eve-[\w-]+)\./.test(window.location.href)?RegExp.$1:null,eventEditionIdRequestParam=/\.html?.*eventEditionId=([\w-]+)/.test(window.location.href)?RegExp.$1:null,primaryLocale=/\.html?.*dataLocale=([\w-]+)/.test(window.location.href)?RegExp.$1:null,uncategorisedData=/(\.[^.]+\.[^.]+\..*\.html)/.test(window.location.pathname)?RegExp.$1:null,manualId=/\.(man-[\w-]+)\./.test(window.location.href)?RegExp.$1:null,taskId=/\.(tsk-[\w-]+)\./.test(window.location.href)?RegExp.$1:null;var canonical=document.querySelector('link[rel="canonical"]');if(!canonical){var headTagElement=document.querySelector('head');var canonicalNode=document.createElement('link');canonicalNode.setAttribute('rel','canonical');canonicalNode.setAttribute('href',window.location.href);var alternateLinks=document.querySelectorAll('link[rel="alternate"]');var nextElement=alternateLinks[alternateLinks.length-1]?.nextElementSibling;nextElement?headTagElement.insertBefore(canonicalNode,nextElement):headTagElement.appendChild(canonicalNode);}
if(exhibitingOrganisationId&&reactSettings){reactSettings.props.context.exhibitingOrganisationId=exhibitingOrganisationId;}
if(exhibitingOrganisationId&&reactSettingsRecommendationList){reactSettingsRecommendationList.props.context.exhibitingOrganisationId=exhibitingOrganisationId;}
if(reactSettingsProductDetails){if(exhibitingId){reactSettingsProductDetails.props.context.exhibitingOrganisationId=exhibitingId;}
if(productId){reactSettingsProductDetails.props.context.productId=productId;}}
if(uncategorisedData&&reactSettings){var sessionDataArray=uncategorisedData.split('.').filter((el,i)=>i>0&&el!=='html');if(sessionDataArray.length){sessionDataArray[0]&&(reactSettings.props.context.programme.programmeId=sessionDataArray[0]);sessionDataArray[1]&&(reactSettings.props.context.programme.sessionId=sessionDataArray[1]);sessionDataArray[0]||(reactSettings.props.context.programmeId=sessionDataArray[0]);sessionDataArray[1]||(reactSettings.props.context.sessionId=sessionDataArray[1]);}}
if(artistId&&reactSettingsArtistDetails){reactSettingsArtistDetails.props.context.artistId=artistId;}
if(uncategorisedData&&reactSettingsZoomplayer){var dataArray=uncategorisedData.split('.').filter((el,i)=>i>0&&el!=='html');if(dataArray.length){dataArray[0]&&(reactSettingsZoomplayer.props.context.digitalProductCode=dataArray[0]);dataArray[1]&&(reactSettingsZoomplayer.props.context.productType=dataArray[1]);dataArray[2]&&(reactSettingsZoomplayer.props.context.programmeId=dataArray[2]);dataArray[2]&&(reactSettingsZoomplayer.props.context.programme.programmeId=dataArray[2]);}}
if(participationId){var reactSettingsToAddParticipationId=[window.reactSettingsParticipantDetails,window.reactSettingsParticipantProfile,window.reactSettingsParticipantList,window.reactSettingsParticipantRecommendations,window.reactSettingsParticipantDirectory];reactSettingsToAddParticipationId.forEach(item=>{if(item){item.props.context.participant.participationId=participationId;}})}
var eventEditionId=eventEditionIdSelector||eventEditionIdRequestParam
if(eventEditionId||taskId||manualId){var reactSettingsToAddEventEditionId=Object.keys(window).map(function(key){if(key.indexOf('reactSettings')===0){return window[key];}}).filter(Boolean);if(eventEditionId){reactSettingsToAddEventEditionId.forEach(item=>{if(item){item.props.context.eventEditionId=eventEditionId;if(!item.props.context.primaryLocale){item.props.context.primaryLocale=primaryLocale||'';}}});}
if(taskId){reactSettingsToAddEventEditionId.forEach(item=>{if(typeof item!=='undefined'){item.props.context.taskId=taskId;}})}
if(manualId){reactSettingsToAddEventEditionId.forEach(item=>{if(typeof item!=='undefined'){item.props.context.manualId=manualId;}})}
if(exhibitingId){reactSettingsToAddEventEditionId.forEach(item=>{if(typeof item!=='undefined'){item.props.context.exhibitingOrganisationId=exhibitingId;}})}}})();