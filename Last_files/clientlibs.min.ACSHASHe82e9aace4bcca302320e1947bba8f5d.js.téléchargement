"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2189],{1342:(t,e,i)=>{i(8846);var s=i(9140),h=i(447);rx.componentLoader.register({contentSwitch:class{constructor(t,e){this.el=t,this.options=e,this.init()}init(){this.options.wcmModeEdit||this[this.options.type]()}printResource(t){this.el.innerHTML=atob(this.options.resourceMap[t]),rx.script.handleScriptsAsync()}checkAndCall(t){t&&t()}checkedRegistered(t,e){window.authSettings&&this.options.properties.claimValue?(s.authController.initialize(window.authSettings),s.authController.getClaim(this.options.properties.claimName).then((i=>{i?"string"==typeof i&&i===this.options.properties.claimValue?this.checkAndCall(t):Array.isArray(i)&&(i.includes(this.options.properties.claimValue)?this.checkAndCall(t):this.checkAndCall(e)):this.checkAndCall(e)})).catch((()=>{this.checkAndCall(e)}))):this.checkAndCall(e)}checkedLogged(t,e){window.authSettings?(s.authController.initialize(window.authSettings),s.authController.getToken().then((e=>{this.checkAndCall(t.bind(this,e))})).catch((()=>{this.checkAndCall(e)}))):this.checkAndCall(e)}registerSwitch(){this.checkedRegistered(this.printResource.bind(this,"registered"),this.printResource.bind(this,"anonymous"))}headerRegisterSwitch(){this.checkedRegistered((()=>this.el.classList.add("hide")))}loggedSwitch(){this.checkedLogged(this.printResource.bind(this,"authenticated"),this.printResource.bind(this,"anonymous"))}subscribedSwitch(){this.checkedLogged((t=>{fetch(this.options.properties.snippetUrl,{credentials:"same-origin",headers:new Headers({Authorization:"bearer "+t})}).then((t=>{if(t.ok)return t.text();throw new Error("invalid status")})).then((t=>{this.el.innerHTML=t,rx.script.handleScriptsAsync()})).catch((()=>{this.printResource("notSubscribed")}))}),(()=>{this.printResource("notAuthenticated");const t=this.el.querySelector(".btn-primary");t&&t.addEventListener("click",(()=>{(0,h.hZ)(this.options.template)}))}))}}})}},t=>{t.O(0,[8430,5561],(()=>{return e=1342,t(t.s=e);var e}));t.O()}]);